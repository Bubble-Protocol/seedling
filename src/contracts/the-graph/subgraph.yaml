specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: UserRegistry
    network: base-testnet
    source:
      address: "0x04C2973Ab533B1eBe60ba608C026B37799BC5983"
      abi: UserRegistry
      startBlock: 10406103
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - UserRegistered
        - UserDeregistered
      abis:
        - name: UserRegistry
          file: ./abis/UserRegistry.json
      eventHandlers:
        - event: UserRegistered(indexed bytes32,string,indexed address)
          handler: handleRegisteredUser
        - event: UserDeregistered(indexed bytes32)
          handler: handleDeregisteredUser
      file: ./src/user-registry.ts
  - kind: ethereum
    name: ContentRegistry
    network: base-testnet
    source:
      address: "0x038ADdfd80f722E4826A467690Ab50EEbE1cfFb7"
      abi: ContentRegistry
      startBlock: 10406103
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - DeletedContent
        - PublishedContent
      abis:
        - name: ContentRegistry
          file: ./abis/ContentRegistry.json
      eventHandlers:
        - event: DeletedContent(indexed bytes32)
          handler: handleContentDeleted
        - event: PublishedContent(indexed bytes32,string,indexed bytes32)
          handler: handleContentPublished
      file: ./src/content-registry.ts
  - kind: ethereum
    name: TipJar
    network: base-testnet
    source:
      address: "0x778629c02e8Fe1Eb10e2149e017a20D519e55D6e"
      abi: TipJar
      startBlock: 10406103
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - DeletedContent
        - PublishedContent
      abis:
        - name: TipJar
          file: ./abis/TipJar.json
      eventHandlers:
        - event: Tip(bytes32,address,uint256,uint256)
          handler: handleTip
      file: ./src/tipjar.ts
